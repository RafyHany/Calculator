{"ast":null,"code":"export default {\n  name: 'App',\n  data() {\n    return {\n      expression: '',\n      result: '',\n      expSend: {\n        firstOperand: NaN,\n        operator: \"\",\n        secondOperand: NaN\n      },\n      ended: 1,\n      unary: false,\n      index: 0\n    };\n  },\n  methods: {\n    appendOperand(input) {\n      this.expression = this.expression + input;\n      if (input !== '-' || this.expSend.operator === '' && !isNaN(this.expSend.firstOperand)) {\n        switch (input) {\n          case \"+\":\n            this.expSend.operator = input;\n            this.ended = 2;\n            this.index = this.expression.length - 1;\n            break;\n          case \"-\":\n            this.expSend.operator = input;\n            this.ended = 2;\n            this.index = this.expression.length - 1;\n            break;\n          case \"×\":\n            this.expSend.operator = \"*\";\n            this.ended = 2;\n            this.index = this.expression.length - 1;\n            break;\n          case \"÷\":\n            this.expSend.operator = '/';\n            this.ended = 2;\n            this.index = this.expression.length - 1;\n            break;\n          case \"√\":\n            this.expSend.operator = \"root\";\n            this.ended = 2;\n            this.unary = true;\n            this.index = this.expression.length - 1;\n            break;\n          case \"²\":\n            this.expSend.operator = \"sqr\";\n            this.ended = 2;\n            this.unary = true;\n            this.index = this.expression.length - 1;\n            break;\n          case \"^(-1)\":\n            this.expSend.operator = \"inverse\";\n            this.ended = 2;\n            this.unary = true;\n            this.index = this.expression.length - 1;\n            break;\n          case \"%\":\n            this.expSend.operator = \"percent\";\n            this.ended = 2;\n            this.unary = true;\n            this.index = this.expression.length - 1;\n            break;\n        }\n      }\n      if (this.ended === 1) {\n        this.expSend.firstOperand = parseFloat(this.expression);\n      } else if (this.ended === 2) {\n        this.expSend.secondOperand = parseFloat(this.expression.slice(this.index + 1, this.expression.length));\n      }\n      this.result = \"\";\n      console.log(this.expSend);\n    },\n    deleteAll() {\n      this.expression = '';\n      this.expSend.firstOperand = NaN;\n      this.expSend.secondOperand = NaN;\n      this.expSend.operator = \"\";\n      this.ended = 1;\n      this.unary = false;\n      this.index = 0;\n    },\n    deleteone() {\n      if (this.expSend.operator === '') {\n        this.expression = this.expression.slice(0, -1);\n        this.expSend.firstOperand = parseFloat(this.expression);\n      } else if (isNaN(this.expSend.secondOperand)) {\n        this.expression = this.expression.slice(0, this.index);\n        this.expSend.operator = '';\n        this.ended = 1;\n        this.unary = false;\n        this.index = 0;\n      } else {\n        this.expression = this.expression.slice(0, -1);\n        this.expSend.secondOperand = parseFloat(this.expression.slice(this.index + 1, this.expression.length));\n      }\n    },\n    equal() {\n      this.expression = '';\n      fetch('http://localhost:8081/calc', {\n        method: 'POST',\n        headers: {\n          ///  Accept : 'application.json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.expSend)\n      }).then(response => {\n        console.log(\"first stage\");\n        if (response.status !== 200) {\n          return \"Math Error!!!\";\n        }\n        return response.text();\n        // console.log(response.text)\n      }).then(response => {\n        console.log(response);\n        console.log(\"second stage\");\n        this.expression = response;\n        this.ended = 1;\n        this.expSend.firstOperand = parseFloat(response);\n        this.expSend.secondOperand = 0;\n        this.expSend.operator = '';\n      }).catch(error => {\n        console.log(\"thisrd stage\");\n        this.expression = 'Math error !';\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","expression","result","expSend","firstOperand","NaN","operator","secondOperand","ended","unary","index","methods","appendOperand","input","isNaN","length","parseFloat","slice","console","log","deleteAll","deleteone","equal","fetch","method","headers","body","JSON","stringify","then","response","status","text","catch","error"],"sources":["C:\\Users\\Lenovo\\Documents\\project\\calculator\\src\\App.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"calcbody\">\n      \n    <div class=\"screen\"> <div class=\"inner\">{{ expression }} {{ result }}</div></div>\n    <br>\n    <div class=\"calcbuttons\">\n    <button class=\"but has\"  @click=\"appendOperand('%')\" >%</button>\n    <button class=\"but has\" @click=\"deleteone\">CE</button>\n    <button class=\"but has\" @click=\"deleteone\">C</button>\n    <button class=\"but has\" @click=\"deleteAll\">DEL</button>\n    <button class=\"but\" @click=\"appendOperand('²' ₋₁)\">X <sup>2</sup></button>\n    <button class=\"but\" @click=\"appendOperand('√')\">&radic;</button>\n    <button class=\"but\"  @click=\"appendOperand('^(-1)')\">X <sup>-1</sup></button>\n    <button class=\"but has\"  @click=\"appendOperand('÷')\">&divide;</button>\n    <button class=\"but\"  @click=\"appendOperand('1')\">1</button>\n    <button class=\"but\"  @click=\"appendOperand('2')\">2</button>\n    <button class=\"but\"  @click=\"appendOperand('3')\">3</button>\n    <button class=\"but has\" @click=\"appendOperand('+')\">+</button>\n    <button class=\"but\"  @click=\"appendOperand('4')\">4</button>\n    <button class=\"but\"  @click=\"appendOperand('5')\">5</button>\n    <button class=\"but\"  @click=\"appendOperand('6')\">6</button>\n    <button class=\"but has\"  @click=\"appendOperand('-')\">-</button>\n    <button class=\"but\"  @click=\"appendOperand('7')\">7</button>\n    <button class=\"but\"  @click=\"appendOperand('8')\">8</button>\n    <button class=\"but\"  @click=\"appendOperand('9')\">9</button>\n    <button class=\"but has\" @click=\"appendOperand('×')\">&times;</button>\n    <button class=\"but\"  @click=\"appendOperand('0')\">0</button>\n    <button class=\"but\"  @click=\"appendOperand('.')\">.</button>\n    <button class=\"but\"  @click=\"appendOperand('-')\">&#177;</button>\n    <button class=\"but eq\" @click=\"equal\">=</button>\n  </div>\n  </div>\n</div>\n  \n</template>\n\n<script>\n\n\n\nexport default {\n  name: 'App',\n  data(){\n    return {\n    expression : '' ,\n    result : '' ,\n    expSend : {\n      firstOperand : NaN,\n      operator : \"\",\n      secondOperand : NaN,\n    },\n    ended : 1 ,\n    unary : false ,\n    index : 0 ,\n\n  }\n},\n  methods : {\n    appendOperand(input) {\n      \n        this.expression=this.expression+input ;\n        if((input!=='-' || (this.expSend.operator==='' && !isNaN(this.expSend.firstOperand)))){\n        switch(input){\n          case \"+\":\n            this.expSend.operator=input;\n            this.ended=2;\n            this.index = this.expression.length-1 ;\n            break;\n          case \"-\" :\n            this.expSend.operator=input;\n            this.ended=2;\n            this.index = this.expression.length-1 ;\n            break ;\n          case \"×\" :\n            this.expSend.operator=\"*\";\n            this.ended=2;\n            this.index = this.expression.length-1 ;\n            break ;\n          case \"÷\":\n            this.expSend.operator='/';\n            this.ended=2;\n            this.index = this.expression.length-1 ;\n            break ;\n          case \"√\":\n            this.expSend.operator=\"root\";\n            this.ended=2;\n            this.unary= true ;\n            this.index = this.expression.length-1 ;\n            break ;\n          case \"²\":\n            this.expSend.operator=\"sqr\";\n            this.ended=2;\n            this.unary=true;\n            this.index = this.expression.length-1 ;\n            break ;\n          case \"^(-1)\" : \n            this.expSend.operator=\"inverse\";\n            this.ended=2;\n            this.unary=true;\n            this.index = this.expression.length-1 ;\n            break ;\n          case \"%\" :\n            this.expSend.operator=\"percent\";\n            this.ended=2;\n            this.unary=true;\n            this.index = this.expression.length-1 ;\n            break ;\n        }}\n        if(this.ended===1){\n          this.expSend.firstOperand = parseFloat(this.expression);\n        }\n        else if(this.ended===2){\n          this.expSend.secondOperand = parseFloat(this.expression.slice(this.index+1,this.expression.length));\n        }\n        this.result = \"\" ;\n        console.log(this.expSend);\n    },\n    \n    deleteAll(){\n      this.expression='';\n      this.expSend.firstOperand= NaN;\n      this.expSend.secondOperand=NaN;\n      this.expSend.operator=\"\";\n      this.ended = 1 ;\n      this.unary = false ;\n      this.index = 0 ;\n    },\n    deleteone(){\n      if(this.expSend.operator===''){\n        this.expression = this.expression.slice(0,-1);\n        this.expSend.firstOperand = parseFloat(this.expression);\n      }else if ( isNaN(this.expSend.secondOperand)){\n        this.expression = this.expression.slice(0,this.index);\n        this.expSend.operator = '' ;\n        this.ended = 1 ;\n        this.unary = false ;\n        this.index = 0 ;\n\n      }else {\n        this.expression = this.expression.slice(0,-1);\n        this.expSend.secondOperand = parseFloat(this.expression.slice(this.index+1,this.expression.length));\n      }\n    },\n    equal(){\n      this.expression='';\n      fetch('http://localhost:8081/calc' ,{\n        method : 'POST',\n        headers : {\n        ///  Accept : 'application.json',\n          'Content-Type': 'application/json'\n        },\n        body : JSON.stringify (this.expSend) ,\n      })\n      .then((response)=>{\n        console.log(\"first stage\")\n        if(response.status !== 200){\n          return \"Math Error!!!\"\n        }\n        return response.text();\n        // console.log(response.text)\n        \n      })\n      .then((response)=>{\n        console.log(response)\n        console.log(\"second stage\") ;\n        this.expression = response ;\n        this.ended = 1 ;\n        this.expSend.firstOperand = parseFloat(response);\n        this.expSend.secondOperand = 0 ;\n        this.expSend.operator = '' ;\n      }).catch((error) =>{\n        console.log(\"thisrd stage\")\n        this.expression = 'Math error !' ;\n        console.log(error);\n      });\n          \n    }\n    \n\n  }\n  \n\n}\n</script>\n\n<style>\n#app {\n  width: 500px;\n  height: 500px;\n  background-color:#ddd ;\n  border: 6px solid rgb(89, 85, 85);\n  border-radius: 10px;\n\n\n}\n.screen{\n  margin-left: 7px;\n  margin-top: 10px;\n  width : 480px;\n  height: 100px;\n  background-color:#fff ;\n  font-size: 1.5em;\n  display: flex ;\n  text-align: center;\n  justify-content: center;\n  border: 2px solid rgb(33, 29, 29);\n  border-radius: 10px;\n  position: relative;\n}\n.inner{\n  position: relative;\n  top: 30px;\n  \n}\n.calcbuttons{\n\n  display: flex ;\n  flex-direction: row;\n  flex-wrap: wrap;\n  text-align:center;\n  justify-content: space-evenly;\n}\n.but{\n  width: 120px;\n  height: 50px;\n  margin-bottom: 10px;\n  border: 3px solid #fff ;\n  border-radius: 6px;\n  font-size: 1.5em;\n  text-align: center;\n  background-color:  #5e5555; \n  color: #ddd;\n}\n.has,.eq{\n  background-color: orange;\n  color: #5e5555;\n}\n\n</style>\n"],"mappings":"AAyCA,eAAe;EACbA,IAAI,EAAE,KAAK;EACXC,IAAIA,CAAA,EAAE;IACJ,OAAO;MACPC,UAAS,EAAI,EAAC;MACdC,MAAK,EAAI,EAAC;MACVC,OAAM,EAAI;QACRC,YAAW,EAAIC,GAAG;QAClBC,QAAO,EAAI,EAAE;QACbC,aAAY,EAAIF;MAClB,CAAC;MACDG,KAAI,EAAI;MACRC,KAAI,EAAI,KAAI;MACZC,KAAI,EAAI;IAEV;EACF,CAAC;EACCC,OAAM,EAAI;IACRC,aAAaA,CAACC,KAAK,EAAE;MAEjB,IAAI,CAACZ,UAAU,GAAC,IAAI,CAACA,UAAU,GAACY,KAAI;MACpC,IAAIA,KAAK,KAAG,GAAE,IAAM,IAAI,CAACV,OAAO,CAACG,QAAQ,KAAG,EAAC,IAAK,CAACQ,KAAK,CAAC,IAAI,CAACX,OAAO,CAACC,YAAY,CAAE,EAAE;QACtF,QAAOS,KAAK;UACV,KAAK,GAAG;YACN,IAAI,CAACV,OAAO,CAACG,QAAQ,GAACO,KAAK;YAC3B,IAAI,CAACL,KAAK,GAAC,CAAC;YACZ,IAAI,CAACE,KAAI,GAAI,IAAI,CAACT,UAAU,CAACc,MAAM,GAAC;YACpC;UACF,KAAK,GAAE;YACL,IAAI,CAACZ,OAAO,CAACG,QAAQ,GAACO,KAAK;YAC3B,IAAI,CAACL,KAAK,GAAC,CAAC;YACZ,IAAI,CAACE,KAAI,GAAI,IAAI,CAACT,UAAU,CAACc,MAAM,GAAC;YACpC;UACF,KAAK,GAAE;YACL,IAAI,CAACZ,OAAO,CAACG,QAAQ,GAAC,GAAG;YACzB,IAAI,CAACE,KAAK,GAAC,CAAC;YACZ,IAAI,CAACE,KAAI,GAAI,IAAI,CAACT,UAAU,CAACc,MAAM,GAAC;YACpC;UACF,KAAK,GAAG;YACN,IAAI,CAACZ,OAAO,CAACG,QAAQ,GAAC,GAAG;YACzB,IAAI,CAACE,KAAK,GAAC,CAAC;YACZ,IAAI,CAACE,KAAI,GAAI,IAAI,CAACT,UAAU,CAACc,MAAM,GAAC;YACpC;UACF,KAAK,GAAG;YACN,IAAI,CAACZ,OAAO,CAACG,QAAQ,GAAC,MAAM;YAC5B,IAAI,CAACE,KAAK,GAAC,CAAC;YACZ,IAAI,CAACC,KAAK,GAAE,IAAG;YACf,IAAI,CAACC,KAAI,GAAI,IAAI,CAACT,UAAU,CAACc,MAAM,GAAC;YACpC;UACF,KAAK,GAAG;YACN,IAAI,CAACZ,OAAO,CAACG,QAAQ,GAAC,KAAK;YAC3B,IAAI,CAACE,KAAK,GAAC,CAAC;YACZ,IAAI,CAACC,KAAK,GAAC,IAAI;YACf,IAAI,CAACC,KAAI,GAAI,IAAI,CAACT,UAAU,CAACc,MAAM,GAAC;YACpC;UACF,KAAK,OAAM;YACT,IAAI,CAACZ,OAAO,CAACG,QAAQ,GAAC,SAAS;YAC/B,IAAI,CAACE,KAAK,GAAC,CAAC;YACZ,IAAI,CAACC,KAAK,GAAC,IAAI;YACf,IAAI,CAACC,KAAI,GAAI,IAAI,CAACT,UAAU,CAACc,MAAM,GAAC;YACpC;UACF,KAAK,GAAE;YACL,IAAI,CAACZ,OAAO,CAACG,QAAQ,GAAC,SAAS;YAC/B,IAAI,CAACE,KAAK,GAAC,CAAC;YACZ,IAAI,CAACC,KAAK,GAAC,IAAI;YACf,IAAI,CAACC,KAAI,GAAI,IAAI,CAACT,UAAU,CAACc,MAAM,GAAC;YACpC;QACJ;MAAC;MACD,IAAG,IAAI,CAACP,KAAK,KAAG,CAAC,EAAC;QAChB,IAAI,CAACL,OAAO,CAACC,YAAW,GAAIY,UAAU,CAAC,IAAI,CAACf,UAAU,CAAC;MACzD,OACK,IAAG,IAAI,CAACO,KAAK,KAAG,CAAC,EAAC;QACrB,IAAI,CAACL,OAAO,CAACI,aAAY,GAAIS,UAAU,CAAC,IAAI,CAACf,UAAU,CAACgB,KAAK,CAAC,IAAI,CAACP,KAAK,GAAC,CAAC,EAAC,IAAI,CAACT,UAAU,CAACc,MAAM,CAAC,CAAC;MACrG;MACA,IAAI,CAACb,MAAK,GAAI,EAAC;MACfgB,OAAO,CAACC,GAAG,CAAC,IAAI,CAAChB,OAAO,CAAC;IAC7B,CAAC;IAEDiB,SAASA,CAAA,EAAE;MACT,IAAI,CAACnB,UAAU,GAAC,EAAE;MAClB,IAAI,CAACE,OAAO,CAACC,YAAY,GAAEC,GAAG;MAC9B,IAAI,CAACF,OAAO,CAACI,aAAa,GAACF,GAAG;MAC9B,IAAI,CAACF,OAAO,CAACG,QAAQ,GAAC,EAAE;MACxB,IAAI,CAACE,KAAI,GAAI;MACb,IAAI,CAACC,KAAI,GAAI,KAAI;MACjB,IAAI,CAACC,KAAI,GAAI;IACf,CAAC;IACDW,SAASA,CAAA,EAAE;MACT,IAAG,IAAI,CAAClB,OAAO,CAACG,QAAQ,KAAG,EAAE,EAAC;QAC5B,IAAI,CAACL,UAAS,GAAI,IAAI,CAACA,UAAU,CAACgB,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QAC7C,IAAI,CAACd,OAAO,CAACC,YAAW,GAAIY,UAAU,CAAC,IAAI,CAACf,UAAU,CAAC;MACzD,CAAC,MAAK,IAAKa,KAAK,CAAC,IAAI,CAACX,OAAO,CAACI,aAAa,CAAC,EAAC;QAC3C,IAAI,CAACN,UAAS,GAAI,IAAI,CAACA,UAAU,CAACgB,KAAK,CAAC,CAAC,EAAC,IAAI,CAACP,KAAK,CAAC;QACrD,IAAI,CAACP,OAAO,CAACG,QAAO,GAAI,EAAC;QACzB,IAAI,CAACE,KAAI,GAAI;QACb,IAAI,CAACC,KAAI,GAAI,KAAI;QACjB,IAAI,CAACC,KAAI,GAAI;MAEf,CAAC,MAAK;QACJ,IAAI,CAACT,UAAS,GAAI,IAAI,CAACA,UAAU,CAACgB,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QAC7C,IAAI,CAACd,OAAO,CAACI,aAAY,GAAIS,UAAU,CAAC,IAAI,CAACf,UAAU,CAACgB,KAAK,CAAC,IAAI,CAACP,KAAK,GAAC,CAAC,EAAC,IAAI,CAACT,UAAU,CAACc,MAAM,CAAC,CAAC;MACrG;IACF,CAAC;IACDO,KAAKA,CAAA,EAAE;MACL,IAAI,CAACrB,UAAU,GAAC,EAAE;MAClBsB,KAAK,CAAC,4BAA2B,EAAG;QAClCC,MAAK,EAAI,MAAM;QACfC,OAAM,EAAI;UACV;UACE,cAAc,EAAE;QAClB,CAAC;QACDC,IAAG,EAAIC,IAAI,CAACC,SAAQ,CAAG,IAAI,CAACzB,OAAO;MACrC,CAAC,EACA0B,IAAI,CAAEC,QAAQ,IAAG;QAChBZ,OAAO,CAACC,GAAG,CAAC,aAAa;QACzB,IAAGW,QAAQ,CAACC,MAAK,KAAM,GAAG,EAAC;UACzB,OAAO,eAAc;QACvB;QACA,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;QACtB;MAEF,CAAC,EACAH,IAAI,CAAEC,QAAQ,IAAG;QAChBZ,OAAO,CAACC,GAAG,CAACW,QAAQ;QACpBZ,OAAO,CAACC,GAAG,CAAC,cAAc;QAC1B,IAAI,CAAClB,UAAS,GAAI6B,QAAO;QACzB,IAAI,CAACtB,KAAI,GAAI;QACb,IAAI,CAACL,OAAO,CAACC,YAAW,GAAIY,UAAU,CAACc,QAAQ,CAAC;QAChD,IAAI,CAAC3B,OAAO,CAACI,aAAY,GAAI;QAC7B,IAAI,CAACJ,OAAO,CAACG,QAAO,GAAI,EAAC;MAC3B,CAAC,CAAC,CAAC2B,KAAK,CAAEC,KAAK,IAAI;QACjBhB,OAAO,CAACC,GAAG,CAAC,cAAc;QAC1B,IAAI,CAAClB,UAAS,GAAI,cAAa;QAC/BiB,OAAO,CAACC,GAAG,CAACe,KAAK,CAAC;MACpB,CAAC,CAAC;IAEJ;EAGF;AAGF"},"metadata":{},"sourceType":"module","externalDependencies":[]}